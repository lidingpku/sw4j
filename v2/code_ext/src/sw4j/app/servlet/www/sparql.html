<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>

  <link href="http://inference-web.org/iw.css" rel="stylesheet" type="text/css" /> 
</head>




<body>


<h3>SPARQL Web Service</h3>
Features:
<ul>
<li> construct a new RDF graph on the fly using describe/construct/select/ask operator</li>
<li> run SPARQL on an RDF graph with Pellet OWL DL reasoning support </li>
<li> REST web service interface </li>
</ul>

<fieldset id="filedset_text">
<legend>Process sparql query</legend>
<form method="post" action="/sw4j/sparql" border="1">
Paste a valid sparql query in the text field below.<br>

	<textarea rows="10" name="queryText" cols="80"></textarea>  <br/>
    Option: <input name="usePellet" type="checkbox" value=yes> use Pellet OWL DL reasoning support <br/>
    Option: output syntax<SELECT name="output">
 <OPTION VALUE="" SELECTED>not-specified</OPTION>
 <OPTION VALUE="RDF/XML">RDF/XML</OPTION>
 <OPTION VALUE="sparql/XML">SPARQL/XML</OPTION>
 <OPTION VALUE="RDF/XML-ABBREV">RDF/XML-ABBREV</OPTION>
 <OPTION VALUE="N3">N3</OPTION>
 </SELECT>
 <br/>
    <input value="run sparql"  type="submit">
 </form>
</fieldset>

<h3>REST Service Interface Description</h3>
Base service URI: &nbsp;http://onto.rpi.edu/sw4j/sparql<br />
<table style="text-align: left; width: 699px; height: 91px;"
 border="1" cellpadding="2" cellspacing="2">
  <tbody>
    <tr>
      <td style="width: 111px; font-weight: bold;">parameter</td>
      <td style="width: 378px; font-weight: bold;">meaning</td>
    </tr>
    <tr>
      <td style="width: 111px;">queryURL</td>
      <td style="width: 378px;">the URL of sparql query</td>
    </tr>
    <tr>
      <td style="width: 111px;">output</td>
      <td style="width: 378px;">(optional) output 
syntax : &nbsp;RDF/XML, N3, SPARQL/XMl, SPARQL/JSON . <br />
Default output:&nbsp; RDF/XML&nbsp;for describe/construction;
&nbsp;TEXT/PLAIN for other queries</td>
    </tr>
    <tr>
      <td style="width: 111px;">usePellet</td>
      <td style="width: 378px;">(optional) run OWL DL
inference on the dataset before SPARQL query. possible value: "yes", "no" (default) </td>
    </tr>
  </tbody>
</table>

example usage
<ul>
  <li> return RDF/XML - <a
 href="http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test1.sparql">http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test1.sparql</a></li>
  <li> return N3 - <a
 href="http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test1.sparql&amp;output=n3">http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test1.sparql&amp;output=n3</a></li>
  <li> return Text - <a
 href="http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test3.sparql">http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test3.sparql</a></li>
  <li> return SPARQL/Xml - <a
 href="http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test3.sparql&amp;output=sparql/xml">http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test3.sparql&amp;output=sparql/xml</a></li>
  <li> use Pellet OWL DL inference - <a
 href="http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test4.sparql&amp;usePellet=yes">http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test4.sparql&amp;usePellet=yes</a></li>
</ul>


<h3>Examples</h3>
<ul>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test1.sparql">test1.sparql</a> - a simple SPARQL query for test. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test1.sparql">result</a> </li>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test2.sparql">test2.sparql</a> - a SPARQL query with many sources for test. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test2.sparql">result</a> </li>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test3.sparql">test3.sparql</a> - a SPARQL query executed without Pellet Inference for test. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test3.sparql&usePellet=no">result</a> </li>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test3.sparql">test3.sparql</a> - a SPARQL query executed with Pellet Inference for test. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test3.sparql&usePellet=yes">result</a> </li>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test4.sparql">test4.sparql</a> - a SPARQL query (with Pellet Inference) which uses GRAPH in pattern for test. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test4.sparql&usePellet=yes">result</a> </li>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test5.sparql">test5.sparql</a> - a SPARQL query (with Pellet Inference) which does not use GRAPH in pattern  for test. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test5.sparql&usePellet=yes">result</a> </li>
  <li><a href="http://onto.rpi.edu/alpha/sparql/test6.sparql">test6.sparql</a> - a SPARQL query (with Pellet Inference) which checks deductive closure. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test6.sparql&usePellet=yes">result</a> </li>
 
  <li>check for missing property value (hasMaker). We need OWL DL inference to find all applicable cardinality restrictions. We use the same SPARQL query - <a href="http://onto.rpi.edu/alpha/sparql/test7.sparql">test7.sparql</a> with different option (with/without Pellet Inference).
  <ul>
  <li> Without OWL DL reasoning, we can only find three "owl:hasValue" restrictions being the direct super class of wine:Zinfandel. Therefore, this SPARQL query will not detect missing value issue. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test7.sparql&usePellet=no">result</a> </li>
  <li> with OWL DL reasoning (on owl:equivalentClass, owl:intersectionOf, and compute transitive closure for rdfs:subClassOf ), we can detect many more cardinality restrictions, including many cardinality restrictions which are orginaly super classes of wine:Wine, as the super class of wine:Zinfandel. Therefore, we are able to tell that hasMaker is required but missing. see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test7.sparql&usePellet=yes">result</a> </li>
  </ul>
  </li>
 
  <li>A more interesting case along this line is the relation between "hasValue" and "Cardinality" restriction. When cardinality=1 and hasValue restriction has been asserted, users typically use such construct to assert default value, and thus omit such description in individuals. Hence we should better avoid reporting missing value issues when cardinality=1 and hasValue restriction can be found. Such semantics is implemented by SPARQL query <a href="http://onto.rpi.edu/alpha/sparql/test8.sparql">test8.sparql</a>. By applying this query on <a href="http://tw.rpi.edu/2008/03/wine-instance.owl">instance data </a>, we should expect missing value issue caused by hasMaker but not hasColor because the default value of hasColor has been asserted by "owl:hasValue" in wine ontology (see <a href="http://tw.rpi.edu/2008/03/wine.owl">a fragment of wine ontology</a>). (see <a href="/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test8.sparql&usePellet=yes">result</a>) </li>
 
   <li><a href="http://onto.rpi.edu/alpha/sparql/test9.sparql">test9.sparql</a>, users may use an RDF graph dynamically generated by this service via describe/construct SPARQL query in the FROM clause of another SPARQL query. (see&nbsp;<a href="http://onto.rpi.edu/sw4j/sparql?queryURL=http://onto.rpi.edu/alpha/sparql/test9.sparql">result)</a>   </li>
</ul>

<hr style="font-family: sans-serif;">
<p><font color="#008000"><i>This page is maintained by Li Ding. Page last updated on&nbsp; June 2, 2009

</i></font></p>
</body>
</html>
